"undefined"==typeof public&&(public={}),public.index={init:function(){$("#index-signup-form").on("submit",function(){return $("#index-signup-form button").hasClass("disabled")||$("#index-signup-form button").data("recaptcha")||public.index.signup(),!1})},signup:function(){$('#index-signup-form input[name="hashed"]').length||$("#index-signup-form").prepend('<input type="hidden" name="hashed">');var r=core.main.md5($('#index-signup-form input[name="hash"]').val()+$('#index-signup-form input[name="login"]').val()+$('#index-signup-form input[name="email"]').val()+$('#index-signup-form input[name="password"]').val());$('#index-signup-form input[name="hashed"]').val(r),core.ajax({url:"/users/signup",ident:"signup",preloader:"#index-signup-form button",form:"#index-signup-form",success:function(r){var e=null;if(r&&r.hash)return $('#index-signup-form input[name="hash"]').val(r.hash),core.timeout.set(function(){public.index.signup()},100,"auth");if($("#index-signup-form button").attr("data-recaptcha")&&grecaptcha.reset(core.captcha.renderId[$("#index-signup-form button").attr("id")]),r&&r.error){if(r.error.auth)return swal({type:"error",text:r.error.auth});if(r.error.close)return swal({type:"error",text:r.error.close});if(r.error.email&&(swal({type:"error",text:r.error.email}),e=!0),r.error.login&&(swal({type:"error",text:r.error.login}),e=!0),r.error.password&&(swal({type:"error",text:r.error.password}),e=!0),r.error["password-confirm"]&&(swal({type:"error",text:r.error["password-confirm"]}),e=!0),e)return!1;if(r.error["not-match"])return swal({type:"error",text:r.error["not-match"]});if(r.error.captcha)return swal({type:"error",text:r.error.captcha});if(r.error.terms)return swal({type:"error",text:r.error.terms});if(r.error["signup-ip"])return swal({type:"error",text:r.error["signup-ip"]})}return location.href="/account"}})}},$(document).ready(function(){public.index.init()});