"undefined"==typeof public&&(public={}),public.friends={init:function(){$('.dt-content .row [data-action="confirm"]').on("click",function(){var t=$(this).closest("[data-id]").attr("data-id");public.friends.confirm({id:t,preloader:$(this)})}),$('.dt-content .row [data-action="reject"]').on("click",function(){var t=$(this).closest("[data-id]").attr("data-id");public.friends.reject({id:t,preloader:$(this),section:$(this).attr("data-section")})}),$('.dt-content .row [data-action="delete"]').on("click",function(){var t=$(this).closest("[data-id]").attr("data-id");public.friends.delete({id:t,preloader:$(this)})})},confirm:function(a){core.ajax({url:"/friends/confirm/id/"+a.id,ident:"confirm"+a.id,preloader:a.preloader,success:function(t){if(t&&t.error)return swal({type:"error",text:t.error});var e=$('.dt-content [data-section="friends-3"] [data-id="'+a.id+'"] img.friends-avatar').attr("src"),i=$('.dt-content [data-section="friends-3"] [data-id="'+a.id+'"] .user-detail .user-name a').html(),d=$('.dt-content [data-section="friends-3"] [data-id="'+a.id+'"] .d-flex.flex-sm-row.flex-column .mr-4').html();$('.dt-content [data-section="friends-3"] [data-id="'+a.id+'"]').slideUp(200,function(){$(this).remove(),$('.dt-content [data-section="friends-3"] [data-id]').length||$('.dt-content [data-section="friends-3"]').html('\t\t\t\t\t\t\t<div class="col-xl-12">\t\t\t\t\t\t\t\t<div class="friends-none text-none text-center m-b-20">'+lang["not-in"]+"</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t")});var n=$('.dt-content [data-section="friends-1"] .no-data');n.length&&n.remove(),$('.dt-content [data-section="friends-1"] [data-section="friends-1-title"]').after('\t\t\t\t\t<div class="col-xl-6 col-md-4 col-sm-6 col-12" data-id="'+a.id+'">\t\t\t\t\t\t<div class="card taxi-card mb-4">\t\t\t\t\t\t\t<div class="card-body friends-box">\t\t\t\t\t\t\t\t<div class="d-sm-flex flex-sm-row align-items-center">\t\t\t\t\t\t\t\t\t<img class="dt-avatar size-40 mb-4 mb-sm-0 mr-3 friends-avatar" src="'+e+'">\t\t\t\t\t\t\t\t\t<div class="flex-1 overflow-hidden pr-sm-3">\t\t\t\t\t\t\t\t\t\t<div class="user-detail mb-1">\t\t\t\t\t\t\t\t\t\t\t<span class="user-name fw-500"><a href="/profile/'+i+'" class="friends-link" target="_blank">'+i+'</a></span>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div class="d-flex flex-sm-row flex-column">\t\t\t\t\t\t\t\t\t\t\t<div class="mb-4 mb-sm-0 text-nowrap">\t\t\t\t\t\t\t\t\t\t\t\t<span class="mr-4 text-nowrap fw-300 f-13">'+d+'\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div class="mt-4">\t\t\t\t\t\t\t\t\t<a href="/profile/'+i+'" class="btn btn-primary btn-xs btn-block f-10"><i class="far fa-book-user mr-1"></i> '+lang.profile+'</a>\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="btn btn-dark btn-xs btn-block f-10" data-action="delete"><i class="far fa-comment-alt-times mr-1"></i> <span>'+lang.delete+"</span></a>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t")}})},reject:function(i){core.ajax({url:"/friends/reject/id/"+i.id+"/section/"+i.section,ident:"reject"+i.id,preloader:i.preloader,success:function(t){if(t&&t.error)return swal({type:"error",text:t.error});var e="inbox"==i.section?"friends-3":"friends-4";$('.dt-content [data-section="'+e+'"] [data-id="'+i.id+'"]').slideUp(200,function(){$(this).remove(),$('.dt-content [data-section="'+e+'"] [data-id]').length||$('.dt-content [data-section="'+e+'"]').html('\t\t\t\t\t\t\t<div class="col-xl-12">\t\t\t\t\t\t\t\t<div class="friends-none text-none text-center m-b-20">'+lang["not-out"]+"</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t")})}})},delete:function(e){core.ajax({url:"/friends/delete/id/"+e.id,ident:"delete"+e.id,preloader:e.preloader,success:function(t){if(t&&t.error)return swal({type:"error",text:t.error});$('.dt-content [data-section="friends-1"] [data-id="'+e.id+'"]').slideUp(200,function(){$(this).remove(),$('.dt-content [data-section="friends-1"] [data-id]').length||$('.dt-content [data-section="friends-1"]').append('\t\t\t\t\t\t\t<div class="col-xl-12">\t\t\t\t\t\t\t\t<div class="friends-none text-none text-center m-b-20 no-data">'+lang["not-friends"]+"</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t")})}})}},$(document).ready(function(){public.friends.init()});